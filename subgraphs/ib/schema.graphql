# ----------------------------------------------------------------
#                             Index Betting
# ----------------------------------------------------------------

type IndexBetting @entity {
  id: ID!
  betParticipants: BigInt!
  chainlink: ChainLink!
  dailyStats: [IndexBettingDailyStat!]! @derivedFrom(field: "indexBetting")
}

type IndexBettingUser @entity {
    id: ID!
    indexBetting: IndexBetting!
    balance: BigInt!
}

enum IndexBettingTransferType {
  Send
  Mint
  Burn
}

type IndexBettingTransfer @entity {
  id: ID!
  indexBetting: IndexBetting!
  transaction: Transaction!
  type: IndexBettingTransferType!

  from: IndexBettingUser
  to: IndexBettingUser
  amount: BigInt!

  timestamp: BigInt!
}

type Transaction @entity {
  id: ID! # txn hash

  blockNumber: BigInt!
  timestamp: BigInt!

  value: BigInt!
  gasUsed: BigInt!
  gasPrice: BigInt!
}

type ChainLink @entity {
  id: ID!
  indexBetting: IndexBetting!
}

type IndexBettingDailyStat @entity {
  id: ID!

  date: BigInt!
  indexBetting: IndexBetting!

  PDIBasePrice: BigInt!
  DPIBasePrice: BigInt!
}